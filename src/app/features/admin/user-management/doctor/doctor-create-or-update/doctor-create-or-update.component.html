<app-bread-crumb [breadcrumbs]="[
  { label: 'Dashboard', url: '/admin' },
  { label: 'Doctor', url: '/admin/user-management/doctor/search' }
]"></app-bread-crumb>

<section class="container mt-2">
  <div class="row">
    <div class="main-card mx-auto">
      <div class="inner">
        <div class="row text-start">
          <div class="col-12 tab-column pb-4 fs-4">
            {{ isCreateMode ? "Create New" : "Update" }} Doctor
          </div>

          <div class="col-6">
            <form *ngIf="formReady" [formGroup]="form" (ngSubmit)="onSubmit()">

              <!-- Doctor ID (Edit Mode Only) -->
              <div class="mb-3" *ngIf="!isCreateMode">
                <label class="form-label" for="doctorId">Doctor Id:</label>
                <input class="form-control" type="text" id="doctorId" formControlName="doctorId" readonly />
              </div>

              <!-- Name -->
              <div class="mb-3">
                <label class="form-label" for="name">Name:</label>
                <input class="form-control" id="name" placeholder="Enter Name" formControlName="name" />
                <div *ngIf="form.get('name')?.invalid && (form.get('name')?.dirty || form.get('name')?.touched)">
                  <small class="text-danger">*Name is required</small>
                </div>
              </div>

              <!-- Gender -->
              <div class="mb-3">
                <label class="form-label" for="gender">Gender:</label>
                <select class="form-select" id="gender" formControlName="gender">
                  <option value="None" disabled>Select Gender</option>
                  <option *ngFor="let option of genderOptions" [value]="option.value">
                    {{ option.label }}
                  </option>
                </select>
                <div *ngIf="form.get('gender')?.invalid && form.get('gender')?.touched" class="text-danger">
                  Please select a valid gender.
                </div>
              </div>

              <!-- Date of Birth -->
              <div class="mb-3">
                <label class="form-label" for="dateOfBirth">Date of Birth:</label>
                <input type="date" class="form-control" id="dateOfBirth" formControlName="dateOfBirth" />
                <div *ngIf="form.get('dateOfBirth')?.invalid && form.get('dateOfBirth')?.touched" class="text-danger">
                  Date of Birth is required.
                </div>
              </div>

              <!-- Qualification -->
              <div class="mb-3">
                <label class="form-label" for="qualification">Qualification:</label>
                <input class="form-control" id="qualification" formControlName="qualification" placeholder="Enter Qualification" />
                <div *ngIf="form.get('qualification')?.invalid && form.get('qualification')?.touched" class="text-danger">
                  Qualification is required.
                </div>
              </div>

              <!-- Specialization -->
              <div class="mb-3">
                <label class="form-label" for="specialization">Specialization:</label>
                <input class="form-control" id="specialization" formControlName="specialization" placeholder="Enter Specialization" />
                <div *ngIf="form.get('specialization')?.invalid && form.get('specialization')?.touched" class="text-danger">
                  Specialization is required.
                </div>
              </div>

              <!-- License Number -->
              <div class="mb-3">
                <label class="form-label" for="licenseNumber">License Number:</label>
                <input class="form-control" id="licenseNumber" formControlName="licenseNumber" placeholder="Enter License Number" />
                <div *ngIf="form.get('licenseNumber')?.invalid && form.get('licenseNumber')?.touched" class="text-danger">
                  License Number is required.
                </div>
              </div>

              <!-- Affiliated Hospital -->
              <div class="mb-3">
                <label class="form-label" for="affiliatedHospital">Affiliated Hospital:</label>
                <input class="form-control" id="affiliatedHospital" formControlName="affiliatedHospital" placeholder="Enter Affiliated Hospital" />
                <div *ngIf="form.get('affiliatedHospital')?.invalid && form.get('affiliatedHospital')?.touched" class="text-danger">
                  Affiliated Hospital is required.
                </div>
              </div>

              <!-- Contact Email -->
              <div class="mb-3">
                <label class="form-label" for="contactEmail">Email Address:</label>
                <input class="form-control" id="contactEmail" formControlName="contactEmail" placeholder="Enter Email" />
                <div *ngIf="form.get('contactEmail')?.invalid && (form.get('contactEmail')?.dirty || form.get('contactEmail')?.touched)">
                  <small class="text-danger">*Valid email address is required</small>
                </div>
              </div>

              <!-- Contact Phone -->
              <div class="mb-3">
                <label class="form-label" for="contactPhone">Contact Number:</label>
                <input class="form-control" id="contactPhone" formControlName="contactPhone" placeholder="Enter Contact Number" />
                <div *ngIf="form.get('contactPhone')?.invalid && form.get('contactPhone')?.touched">
                  <small class="text-danger">*Contact number is required</small>
                </div>
              </div>

              <!-- Practice Location -->
              <div class="mb-3">
                <label class="form-label" for="practiceLocation">Practice Location:</label>
                <input class="form-control" id="practiceLocation" formControlName="practiceLocation" placeholder="Enter Practice Location" />
                <div *ngIf="form.get('practiceLocation')?.invalid && form.get('practiceLocation')?.touched">
                  <small class="text-danger">*Practice location is required</small>
                </div>
              </div>

              <!-- Role Code -->
              <div class="mb-3">
                <label class="form-label" for="roleCode">Role code:</label>
                <input class="form-control" id="roleCode" formControlName="roleCode" placeholder="Enter Role Code" />
                <div *ngIf="form.get('roleCode')?.invalid && form.get('roleCode')?.touched">
                  <small class="text-danger">*Role Code is required</small>
                </div>
              </div>

              <!-- Buttons -->
              <button type="submit" class="btn btn-primary me-3" [disabled]="form.invalid">Save</button>
              <button type="button" class="btn btn-outline-secondary" (click)="onCancel()">Cancel</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
